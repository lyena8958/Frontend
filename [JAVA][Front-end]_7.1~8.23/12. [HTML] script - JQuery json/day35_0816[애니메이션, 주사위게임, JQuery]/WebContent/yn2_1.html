<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ë‹¤ì´ìŠ¤ ê²Œì„</title>
<style>
body, div, ul, li{
	margin : 0;
	padding : 0;
}
#area {
	border: 3px solid lightgray;
	width: 1000px;
	height: 400px;
	margin: 0 auto;
	position : relatuive;
}
#ctrl{
	cursor: pointer; /*í´ë¦­ ë§ˆìš°ìŠ¤ì»¤ì„œ ëª¨ì–‘ ë°”ê¾¸ê¸°*/

	position : absolute;
	width : 1000px;
	height : 40px;
	line-height : 40px;
	background-color : #B5B2FF;
	text-align : center;
}
li{
	position : absolute; /*	ì›í•˜ëŠ” ìœ„ì¹˜ë¥¼ ì§€ì •í•´ ë°°ì¹˜. */
	top:40px; /*ìœ„ì—ì„œë¶€í„° ì–¼ë§ˆë‚˜ ë–¨ì–´ì§ˆê±´ì§€(ê²Œì„ì‹œì‘ë¬¸êµ¬ì´í›„ë¶€í„°) */
	width : 500px;
	height : 360px;
	visibility : hidden; /*ì‡¼í•‘ëª°ì²˜ëŸ¼ ë°”ë¥¼ í´ë¦­í•´ì•¼ ë³´ì´ëŠ” í˜„ìƒì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ ìš°ì„ ì€ ëª¨ë‘ ê°€ë ¤ë†“ì.*/
	list-style-type : none;
}
#user{
	float : left;
	position : relative;
}

#com{
	float : right;
	position : relative;
}
#com li{
	left : auto;
	right : 0;
}
#user, #com{
	margin-top : 10%;
}
#user{
	margin-left : 30%;
}
#com{
	margin-right : -6%;
}
.one{
	background : url('image2/dice-1.png') no-repeat;
}
.two{
	background : url('image2/dice-2.png') no-repeat;
}
.three{
	background : url('image2/dice-3.png') no-repeat;
}
.four{
	background : url('image2/dice-4.png') no-repeat;
}
.five{
	background : url('image2/dice-5.png') no-repeat;
}
.six{
	background : url('image2/dice-6.png') no-repeat;
}
</style>
</head>
<body>

	<div id="area">
		<div id="ctrl">ğŸŒ START ğŸŒ</div>

			<ul id="user">
				<li class="one"></li>
				<li class="two"></li>
				<li class="three"></li>
				<li class="four"></li> 
				<li class="five"></li>
				<li class="six"></li>
			</ul>

			<ul id="com">
				<li class="one"></li>
				<li class="two"></li>
				<li class="three"></li>
				<li class="four"></li>
				<li class="five"></li>
				<li class="six"></li>
			</ul>

	</div>
	<script type="text/javascript">

	var func;
	
	window.onload = function(){
		init();
	}
	/* 
	for(var i = 0; i < result[0].length; i++){
		console.log(result[0][i]);
		console.log(result[1][i]);
	} */
	function init(){
		// ì´ˆê¸°í™”ë©´ ì„¤ì •
		var lists = document.querySelectorAll('li'); 
		console.log(lists);
		lists.forEach(function(list){
			if(list.className=='one'){ // ì£¼ì‚¬ìœ„ 1ë²ˆë§Œ ë³´ì—¬ì£¼ê³ 
				list.style.visibility = 'visible';
			}
			else{// ë‚¨ì€ ì´ë¯¸ì§€ë“¤ì€ ê°€ë¦¼(hidden)
				list.style.visibility = 'hidden';
			}
		});
		
		// ì‹œì‘/ì¢…ë£Œ ëˆ„ë¥´ë©´ ìƒíƒœë°” ë””ìì¸ ë³€ê²½
		document.querySelector('#ctrl').onclick=function(){
			console.log(this);
			//ê²Œì„ì‹œì‘ ëª¨ë“œ ë””ìì¸ë³€í™˜
			if(this.firstChild.nodeValue == 'ğŸŒ START ğŸŒ'){//STARTë¥¼ ëˆ„ë¥´ë©´ ê²°ê³¼ë³´ê¸° ìƒíƒœë°”ë¡œ ë³€ê²½
				this.firstChild.nodeValue = ' Result? ğŸ”';
				this.style.backgroundColor = 'lightgray';
				
				game(); // 
			}
			else {//ì›ìƒë³µêµ¬ // ê²°ê³¼ë³´ê¸°ë¥¼ ëˆ„ë¥´ë©´ ë‹¤ì‹œ ì´ˆê¸°ìƒíƒœ(ì‹œì‘ ìƒíƒœë°”)ë¡œ ë³€ê²½
				this.firstChild.nodeValue = 'ğŸŒ START ğŸŒ'
				this.style.backgroundColor = '#B5B2FF';
				
				stopGame();
			}
		}

		//ê²Œì„ì‹œì‘ (ì´ë¯¸ì§€ ë³€í™˜ëª¨ì…˜ ì¶”ê°€)
		function game() {
			func = setInterval(function(){
			var randNum = Math.floor(Math.random()*6);
			var lists = document.querySelectorAll('li');
			
			lists.forEach(function(list, index){
				if((index%6)==randNum){ //ì‚¬ìš©ì 
					list.style.visibility = 'visible';
				}
				else{//ì»´í“¨í„°
					list.style.visibility = 'hidden';
				}
			});
			}, 100); // 0.1ì´ˆ
		}

		//ê²Œì„ì¢…ë£Œ == ê²°ê³¼ë°˜í™˜
		function stopGame(){
			clearInterval(func);
			
			var lists = document.querySelectorAll('li'); //Allì„ ì‚¬ìš©í–ˆê¸° ë•Œë¬¸ì— ë°°ì—´ë¡œë°›ìŒ
			
			// listsì¸ë±ìŠ¤ ê¸°ì¤€ : userRand 0~5, comRand 6~11
			var userRand = Math.floor(Math.random()*6); // ìœ ì €ì˜ ê²°ê³¼ê°’ 
			var comRand = Math.floor(Math.random()*6)+6; // ì»´í“¨í„°ì˜ ê²°ê³¼ê°’
			
			// ìœ ì €, ì»´í“¨í„° ê²°ê³¼ì €ì¥ë³€ìˆ˜
			var userRes = userRand;
			var comRes = comRand-6;
			
			// ì£¼ì‚¬ìœ„ê²°ê³¼ ì´ë¯¸ì§€ ê³ ì •
			lists.forEach(function(list, index){//list: ê°ì²´(ë°ì´í„°), index(listì˜ ìœ„ì¹˜) 
				
				if(index == userRand){ // ë‚œìˆ˜ë¡œ ëŒë¦° ìœ ì €ì˜ ê²°ê³¼ê°’ì´ â†’ ê°ì²´indexì™€ ê°™ë‹¤ë©´
					list.style.visibility = 'visible'; // í•´ë‹¹ ì´ë¯¸ì§€ë¥¼ í‘œì‹œí•¨
				}
				else if(index == comRand){ // ë‚œìˆ˜ë¡œ ëŒë¦° ì»´í“¨í„°ì˜ ê²°ê³¼ê°’ì´ â†’ ê°ì²´indexì™€ ê°™ë‹¤ë©´
					list.style.visibility = 'visible'; // í•´ë‹¹ ì´ë¯¸ì§€ë¥¼ í‘œì‹œí•¨
				}
				else{// ì—†ëŠ” ê²°ê³¼ì˜ ì´ë¯¸ì§€ëŠ” ëª¨ë‘ ê°€ë¦¼(hidden)
					list.style.visibility = 'hidden';
				}
			});
			// ì‚¬ìš©ì ì•ˆë‚´ë¥¼ ìœ„í•œ ê²°ê³¼ë¥¼ í™”ë©´ì— ë„ì›€(ë¬´ìŠ¹ë¶€ or ìŠ¹ë¦¬ or íŒ¨ë°°)
			showResult(userRes, comRes);
		}
		
		// ì‚¬ìš©ì ì•ˆë‚´ ê²°ê³¼ì°½
	function showResult(user, com) { 
			if (user == com) {
				alert('!!ë¬´ ìŠ¹ ë¶€!!');
			}
			else {
				if (user > com) {//ì‚¬ìš©ìë³´ë‹¤ ì»´í“¨í„°ê°’ì´ ë‚®ë‹¤ë©´ ìŠ¹ë¦¬
					alert('âœ¨ìŠ¹ë¦¬ğŸ˜âœ¨ ');
				} else {// ì»´í“¨í„° ê°’ì´ ë†’ìœ¼ë©´ íŒ¨ë°°
					alert('ğŸ¤¦â€â™€ï¸ğŸ¤¦â€â™€ï¸ğŸ¤¦â€â™€ï¸...íŒ¨ë°°...ğŸ¤¦â€â™‚ï¸ğŸ¤¦â€â™‚ï¸ğŸ¤¦â€â™‚ï¸');
				}
			}//else
				
		}//showResult

	}
</script>

</body>
</html>