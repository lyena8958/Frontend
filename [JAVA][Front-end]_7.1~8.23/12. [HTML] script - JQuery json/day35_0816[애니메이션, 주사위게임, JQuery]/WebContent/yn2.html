<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ë‹¤ì´ìŠ¤ ê²Œì„</title>
<style>
body, div, ul, li{
	margin : 0;
	padding : 0;
}
#area {
	border: 3px solid lightgray;
	width: 1000px;
	height: 400px;
	margin: 0 auto;
	position : relatuive;
}
#ctrl{
	cursor: pointer; /*í´ë¦­ ë§ˆìš°ìŠ¤ì»¤ì„œ ëª¨ì–‘ ë°”ê¾¸ê¸°*/
	margin : 0 auto;
	position : absolute;
	width : 1000px;
	height : 40px;
	line-height : 40px;
	background-color : #B5B2FF;
	text-align : center;
}
li{
	position : absolute; /*	ì›í•˜ëŠ” ìœ„ì¹˜ë¥¼ ì§€ì •í•´ ë°°ì¹˜. */
	top:40px; /*ìœ„ì—ì„œë¶€í„° ì–¼ë§ˆë‚˜ ë–¨ì–´ì§ˆê±´ì§€(ê²Œì„ì‹œì‘ë¬¸êµ¬ì´í›„ë¶€í„°) */
	width : 500px;
	height : 360px;
	visibility : hidden; /*ì‡¼í•‘ëª°ì²˜ëŸ¼ ë°”ë¥¼ í´ë¦­í•´ì•¼ ë³´ì´ëŠ” í˜„ìƒì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ ìš°ì„ ì€ ëª¨ë‘ ê°€ë ¤ë†“ì.*/
	list-style-type : none;
}
#user{
	float : left;
	position : relative;
}
#user li{
	right : auto;
	left : 0;
}
#com{
	float : right;
	position : relative;
}
#com li{
	left : auto;
	right : 0;
}
.one{
	background : url('image2/dice-1.png') no-repeat;
}
.two{
	background : url('image2/dice-2.png') no-repeat;
}
.three{
	background : url('image2/dice-3.png') no-repeat;
}
.four{
	background : url('image2/dice-4.png') no-repeat;
}
.five{
	background : url('image2/dice-5.png') no-repeat;
}
.six{
	background : url('image2/dice-6.png') no-repeat;
}
</style>
</head>
<body>

	<div id="area">
		<div id="ctrl">ğŸŒ START ğŸŒ</div>
			<ul id="user">
				<li class="one"></li>
				<li class="two"></li>
				<li class="three"></li>
				<li class="four"></li> 
				<li class="five"></li>
				<li class="six"></li>
			</ul>

			<ul id="com">
				<li class="one"></li>
				<li class="two"></li>
				<li class="three"></li>
				<li class="four"></li>
				<li class="five"></li>
				<li class="six"></li>
			</ul>

	</div>
<script type="text/javascript">

	var func;
	
	window.onload = function(){
		init();
	}
	
	function init(){
		// ì´ˆê¸°í™”ë©´ ì„¤ì •
		var lists = document.querySelectorAll('li');
		lists.forEach(function(list){
			if(list.className=='one'){
				list.style.visibility = 'visible';
			}
			else{
				list.style.visibility = 'hidden';
			}
		});
		
		// ì‹œì‘/ì¢…ë£Œ ëˆ„ë¥´ë©´ ë””ìì¸ ë³€ê²½
		document.querySelector('#ctrl').onclick=function(){
			
			//ê²Œì„ì‹œì‘ ëª¨ë“œ ë””ìì¸ë³€í™˜
			if(this.firstChild.nodeValue == 'ğŸŒ START ğŸŒ'){
				this.firstChild.nodeValue = ' Result? ğŸ”';
				this.style.backgroundColor = 'lightgray';
				
				game();
			}
			else {//ì›ìƒë³µêµ¬
				this.firstChild.nodeValue = 'ğŸŒ START ğŸŒ'
				this.style.backgroundColor = '#B5B2FF';
				
				stopGame();
			}
		}

		//ê²Œì„ì‹œì‘
		function game() {
			func = setInterval(function(){
			var randNum = Math.floor(Math.random()*6);
			var lists = document.querySelectorAll('li');
			
			lists.forEach(function(list, index){
				if((index%6)==randNum){ //ì‚¬ìš©ì
					list.style.visibility = 'visible';
				}
				else{//ì»´í“¨í„°
					list.style.visibility = 'hidden';
				}
			});
			}, 100); // 0.1ì´ˆ
		}

		//ê²Œì„ì¢…ë£Œ == ê²°ê³¼ë°˜í™˜
		function stopGame(){
			clearInterval(func);
			
			// user 0~5, com 6~11
			var userRand = Math.floor(Math.random()*6); //0~5
			var comRand = Math.floor(Math.random()*6)+6; // 6~11

			var lists = document.querySelectorAll('li'); //Allì„ ì‚¬ìš©í–ˆê¸° ë•Œë¬¸ì— ë°°ì—´ë¡œë°›ìŒ
			
			var userRes;
			var comRes;
			
			lists.forEach(function(list, index){
				
				if(index == userRand){
					list.style.visibility = 'visible';
					userRes = list.className;
				}
				else if(index == comRand){
					list.style.visibility = 'visible';
					comRes = list.className;
				}
				else{
					list.style.visibility = 'hidden';
				}
			});
			
			showResult(userRes, comRes);
		}
		
	function showResult(user, com) {
		console.log(typeof user);
		console.log(typeof com);
			if (user == com) {
				alert('!!ë¬´ ìŠ¹ ë¶€!!');
			}
			else {
				if (user > com) {//ì‚¬ìš©ìë³´ë‹¤ ì»´í“¨í„°ê°’ì´ ë‚®ë‹¤ë©´ ìŠ¹ë¦¬
					alert('âœ¨ìŠ¹ë¦¬ğŸ˜âœ¨ ');
				} else {// ì»´í“¨í„° ê°’ì´ ë†’ìœ¼ë©´ íŒ¨ë°°
					alert('ğŸ¤¦â€â™€ï¸ğŸ¤¦â€â™€ï¸ğŸ¤¦â€â™€ï¸...íŒ¨ë°°...ğŸ¤¦â€â™‚ï¸ğŸ¤¦â€â™‚ï¸ğŸ¤¦â€â™‚ï¸');
				}
			}//else
				
		}//showResult

	}
</script>

</body>
</html>